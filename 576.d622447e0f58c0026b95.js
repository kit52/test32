"use strict";(self.webpackChunkproduction_project=self.webpackChunkproduction_project||[]).push([[576],{2576:function(e,t,s){s.d(t,{D0:function(){return U},wD:function(){return ae},$B:function(){return w},Iq:function(){return E},GA:function(){return L},wq:function(){return Z}});var a,r=s(2327),i=s(7294),c=s(743),l=s(1233),n=s(3007),o=s(5401),d=s(8699),h=s(7050),m=s(9960);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},v.apply(this,arguments)}var x,u,j=e=>i.createElement("svg",v({width:20,height:20,xmlns:"http://www.w3.org/2000/svg"},e),a||(a=i.createElement("path",{d:"M18.402 9.496c-1.851-3.9-4.65-5.863-8.402-5.863-3.754 0-6.55 1.963-8.402 5.865a1.178 1.178 0 0 0 0 1.006c1.851 3.9 4.65 5.863 8.402 5.863 3.754 0 6.55-1.963 8.402-5.865.15-.317.15-.684 0-1.006ZM10 14.961c-3.15 0-5.457-1.598-7.084-4.961C4.543 6.637 6.85 5.04 10 5.04c3.15 0 5.457 1.597 7.084 4.96-1.625 3.363-3.932 4.96-7.084 4.96Zm-.078-8.399a3.438 3.438 0 1 0 0 6.876 3.438 3.438 0 0 0 0-6.876Zm0 5.625A2.186 2.186 0 0 1 7.734 10c0-1.209.979-2.188 2.188-2.188s2.187.979 2.187 2.188a2.186 2.186 0 0 1-2.187 2.188Z"})));function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},g.apply(this,arguments)}var N=e=>i.createElement("svg",g({width:20,height:20,xmlns:"http://www.w3.org/2000/svg"},e),x||(x=i.createElement("path",{d:"M17.917 3.333H16.11v1.111h1.667v12.223H2.222V4.444H3.89v-1.11H2.083a.989.989 0 0 0-.972 1.005v12.433a.988.988 0 0 0 .972 1.006h15.834a.99.99 0 0 0 .972-1.006V4.34a.988.988 0 0 0-.972-1.006Z"})),u||(u=i.createElement("path",{d:"M4.444 7.778h1.111v1.11h-1.11v-1.11ZM7.778 7.778h1.11v1.11h-1.11v-1.11ZM11.111 7.778h1.111v1.11h-1.11v-1.11ZM14.444 7.778h1.111v1.11h-1.11v-1.11ZM4.444 10.556h1.111v1.11h-1.11v-1.11ZM7.778 10.556h1.11v1.11h-1.11v-1.11ZM11.111 10.556h1.111v1.11h-1.11v-1.11ZM14.444 10.556h1.111v1.11h-1.11v-1.11ZM4.444 13.333h1.111v1.111h-1.11v-1.11ZM7.778 13.333h1.11v1.111h-1.11v-1.11ZM11.111 13.333h1.111v1.111h-1.11v-1.11ZM14.444 13.333h1.111v1.111h-1.11v-1.11ZM5.556 5.556A.556.556 0 0 0 6.11 5V1.667a.556.556 0 1 0-1.111 0V5a.556.556 0 0 0 .556.556ZM14.444 5.556A.556.556 0 0 0 15 5V1.667a.555.555 0 1 0-1.111 0V5a.555.555 0 0 0 .556.556ZM7.222 3.333h5.556v1.111H7.222v-1.11Z"}))),p=s(7088),f=s(9457);let w,A,E,L;!function(e){e.VIEWS="views",e.TITLE="title",e.CREATED="createdAt"}(w||(w={})),function(e){e.CODE="CODE",e.IMAGE="IMAGE",e.TEXT="TEXT"}(A||(A={})),function(e){e.ALL="ALL",e.IT="IT",e.SCIENCE="SCIENCE",e.ECONOMICS="ECONOMICS"}(E||(E={})),function(e){e.BIG="BIG",e.SMALL="SMALL"}(L||(L={}));var b=s(4268);const O=(0,b.hg)("articleDetails/fetchArticleById",(async(e,t)=>{const{extra:s,rejectWithValue:a}=t;if(!e)throw new Error("");try{const t=await s.api.get("/articles/".concat(e),{params:{_expand:"user"}});if(!t.data)throw new Error;return t.data}catch(e){return console.log(e),a("error")}})),M=(0,b.oM)({name:"articleDetails",initialState:{isLoading:!1,error:void 0,data:void 0},reducers:{},extraReducers:e=>{e.addCase(O.pending,(e=>{e.error=void 0,e.isLoading=!0})).addCase(O.fulfilled,((e,t)=>{e.isLoading=!1,e.data=t.payload})).addCase(O.rejected,((e,t)=>{e.isLoading=!1,e.error=t.payload}))}}),{actions:I}=M,{reducer:k}=M;var C={ArticleDetails:"MxWQIGLi",avatar:"WDmBKEor"};const Z=e=>{var t;return null===(t=e.articleDetails)||void 0===t?void 0:t.data},y=e=>{var t;return(null===(t=e.articleDetails)||void 0===t?void 0:t.isLoading)||!1},T=e=>{var t;return null===(t=e.articleDetails)||void 0===t?void 0:t.error};var S;function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},B.apply(this,arguments)}var D=e=>i.createElement("svg",B({width:22,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),S||(S=i.createElement("path",{d:"M16.2 5V1H1v15.2h4L16.2 5Zm-10.4.8V21H21V5.8H5.8Z",stroke:"#000",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}))),H=s(5255),W=s(5893);const R=(0,i.memo)((e=>{const{className:t,text:s}=e,a=(0,i.useCallback)((()=>{navigator.clipboard.writeText(s)}),[s]);return(0,W.jsxs)("pre",{className:(0,n.A)("EGVBrTRk",{},[t]),children:[(0,W.jsx)(H.zx,{onClick:a,className:"x9B5cNnv",theme:H.bn.CLEAR,children:(0,W.jsx)(D,{className:"ADwPP7Jp"})}),(0,W.jsx)("code",{children:s})]})}));const V=(0,i.memo)((e=>{const{className:t,block:s}=e,{t:a}=(0,r.$)();return(0,W.jsx)("div",{className:(0,n.A)("OpzK0VPf",{},[t]),children:(0,W.jsx)(R,{text:s.code})})}));var G={img:"Pr2NTJfR"};const z=(0,i.memo)((e=>{const{className:t,block:s}=e,{t:a}=(0,r.$)();return(0,W.jsxs)("div",{className:(0,n.A)(G.ArticleImageBlockComponent,{},[t]),children:[(0,W.jsx)("img",{src:s.src,alt:s.title,className:G.img}),s.title&&(0,W.jsx)(d.xv,{text:s.title,align:d.PH.CENTER})]})}));var P={title:"BHmndKmm",paragraph:"tLIzh4YH"};const J=(0,i.memo)((e=>{const{className:t,block:s}=e,{t:a}=(0,r.$)();return(0,W.jsxs)("div",{className:(0,n.A)(P.ArticleTextBlockComponent,{},[t]),children:[s.title&&(0,W.jsx)(d.xv,{title:s.title,className:P.title}),s.paragraphs.map(((e,t)=>(0,W.jsx)(d.xv,{text:e,className:P.paragraph},e)))]})})),F={articleDetails:k},U=(0,i.memo)((e=>{const{className:t,id:s}=e,{t:a}=(0,r.$)(),v=(0,o.T)(),x=(0,c.v9)(y),u=(0,c.v9)(Z),g=(0,c.v9)(T),w=(0,i.useCallback)((e=>{switch(e.type){case A.CODE:return(0,W.jsx)(V,{block:e,className:C.block},e.id);case A.IMAGE:return(0,W.jsx)(z,{block:e,className:C.block},e.id);case A.TEXT:return(0,W.jsx)(J,{className:C.block,block:e},e.id);default:return null}}),[]);let E;return(0,i.useEffect)((()=>{v(O(s))}),[v,s]),E=x?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(h.O,{className:C.avatar,width:200,height:200,border:"50%"}),(0,W.jsx)(h.O,{className:C.title,width:300,height:32}),(0,W.jsx)(h.O,{className:C.skeleton,width:600,height:24}),(0,W.jsx)(h.O,{className:C.skeleton,width:"100%",height:200}),(0,W.jsx)(h.O,{className:C.skeleton,width:"100%",height:200})]}):g?(0,W.jsx)(d.xv,{align:d.PH.CENTER,title:a("Произошла ошибка при загрузке статьи.")}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(f.U,{justify:"center",max:!0,className:C.avatarWrapper,children:(0,W.jsx)(m.q,{size:200,src:null==u?void 0:u.img,className:C.avatar})}),(0,W.jsxs)(f.g,{gap:"4",max:!0,children:[(0,W.jsx)(d.xv,{className:C.title,title:null==u?void 0:u.title,text:null==u?void 0:u.subtitle,size:d.yH.L}),(0,W.jsxs)(f.U,{gap:"8",className:C.articleInfo,children:[(0,W.jsx)(p.J,{className:C.icon,Svg:j}),(0,W.jsx)(d.xv,{text:String(null==u?void 0:u.views)})]}),(0,W.jsxs)(f.U,{gap:"8",className:C.articleInfo,children:[(0,W.jsx)(p.J,{className:C.icon,Svg:N}),(0,W.jsx)(d.xv,{text:null==u?void 0:u.createdAt})]})]}),null==u?void 0:u.blocks.map(w)]}),(0,W.jsx)(l.W,{reducers:F,removeAfterUnmount:!0,children:(0,W.jsx)(f.g,{gap:"16",max:!0,className:(0,n.A)(C.ArticleDetails,{},[t]),children:E})})}));var $=s(1554),q={BIG:"JApwHNdC",views:"Loz2hfru",header:"dwZR2QFa",username:"qqjY3IRX",date:"gzcu7DmY",title:"gvCBzE5L",img:"trLYSQ7F",footer:"sXa5L34T",textBlock:"JGwHSPVM",SMALL:"Qb8dn0co",imageWrapper:"dOeIdIHt",infoWrapper:"sm3cbRbR",types:"ZhtaCnW5"};const X=(0,i.memo)((e=>{const{className:t,view:s}=e;return s===L.BIG?(0,W.jsx)("div",{className:(0,n.A)(q.ArticleListItem,{},[t,q[s]]),children:(0,W.jsxs)($.Z,{className:q.card,children:[(0,W.jsxs)("div",{className:q.header,children:[(0,W.jsx)(h.O,{border:"50%",height:30,width:30}),(0,W.jsx)(h.O,{width:150,height:16,className:q.username}),(0,W.jsx)(h.O,{width:150,height:16,className:q.date})]}),(0,W.jsx)(h.O,{width:250,height:24,className:q.title}),(0,W.jsx)(h.O,{height:200,className:q.img}),(0,W.jsx)("div",{className:q.footer,children:(0,W.jsx)(h.O,{height:36,width:200})})]})}):(0,W.jsx)("div",{className:(0,n.A)(q.ArticleListItem,{},[t,q[s]]),children:(0,W.jsxs)($.Z,{className:q.card,children:[(0,W.jsx)("div",{className:q.imageWrapper,children:(0,W.jsx)(h.O,{width:200,height:200,className:q.img})}),(0,W.jsx)("div",{className:q.infoWrapper,children:(0,W.jsx)(h.O,{width:130,height:16})}),(0,W.jsx)(h.O,{width:150,height:16,className:q.title})]})})}));var Y=s(9499),Q=s(516),K=s(776),_=s(6289);const ee=(0,i.memo)((e=>{const{className:t,article:s,view:a,target:i}=e,{t:c}=(0,r.$)(),l=(0,W.jsx)(d.xv,{text:s.type.join(", "),className:q.types}),o=(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(d.xv,{text:String(s.views),className:q.views}),(0,W.jsx)(p.J,{Svg:j})]});if(a===L.BIG){const e=s.blocks.find((e=>e.type===A.TEXT));return(0,W.jsx)("div",{className:(0,n.A)(q.ArticleListItem,{},[t,q[a]]),children:(0,W.jsxs)($.Z,{className:q.card,children:[(0,W.jsxs)("div",{className:q.header,children:[(0,W.jsx)(m.q,{size:30,src:s.user.avatar}),(0,W.jsx)(d.xv,{text:s.user.username,className:q.username}),(0,W.jsx)(d.xv,{text:s.createdAt,className:q.date})]}),(0,W.jsx)(d.xv,{title:s.title,className:q.title}),l,(0,W.jsx)(_.n,{fallback:(0,W.jsx)(h.O,{width:"100%",height:250}),src:s.img,className:q.img,alt:s.title}),e&&(0,W.jsx)(J,{block:e,className:q.textBlock}),(0,W.jsxs)("div",{className:q.footer,children:[(0,W.jsx)(Q.F,{target:i,to:(0,K.dx)(s.id),children:(0,W.jsx)(Y.zx,{theme:Y.bn.OUTLINE,children:c("Читать далее...")})}),o]})]})})}return(0,W.jsx)(Q.F,{target:i,to:(0,K.dx)(s.id),className:(0,n.A)(q.ArticleListItem,{},[t,q[a]]),children:(0,W.jsxs)($.Z,{className:q.card,children:[(0,W.jsxs)("div",{className:q.imageWrapper,children:[(0,W.jsx)(_.n,{fallback:(0,W.jsx)(h.O,{width:200,height:200}),alt:s.title,src:s.img,className:q.img}),(0,W.jsx)(d.xv,{text:s.createdAt,className:q.date})]}),(0,W.jsxs)("div",{className:q.infoWrapper,children:[l,o]}),(0,W.jsx)(d.xv,{text:s.title,className:q.title})]})})}));var te={BIG:"Mc9MfBno",card:"I6tD17AJ",SMALL:"rJddBpYU",row:"udlxIuZU"};const se=e=>new Array(e===L.SMALL?9:3).fill(0).map(((t,s)=>(0,W.jsx)(X,{className:te.card,view:e},s))),ae=(0,i.memo)((e=>{const{className:t,articles:s,view:a=L.SMALL,isLoading:i,target:c}=e,{t:l}=(0,r.$)();return i||s.length?(0,W.jsxs)("div",{className:(0,n.A)(te.ArticleList,{},[t,te[a]]),children:[s.map((e=>(0,W.jsx)(ee,{article:e,view:a,target:c,className:te.card},e.id))),i&&se(a)]}):(0,W.jsx)("div",{className:(0,n.A)(te.ArticleList,{},[t,te[a]]),children:(0,W.jsx)(d.xv,{size:d.yH.L,title:l("Статьи не найдены")})})}))},1233:function(e,t,s){s.d(t,{W:function(){return c}});var a=s(7294),r=s(743),i=s(5893);const c=e=>{const{children:t,reducers:s,removeAfterUnmount:c=!0}=e,l=(0,r.oR)(),n=(0,r.I0)();return(0,a.useEffect)((()=>{const e=l.reducerManager.getMountedReducers();return Object.entries(s).forEach((t=>{let[s,a]=t;e[s]||(l.reducerManager.add(s,a),n({type:"@INIT ".concat(s," reducer")}))})),()=>{c&&Object.entries(s).forEach((e=>{let[t,s]=e;l.reducerManager.remove(t),n({type:"@DESTROY ".concat(t," reducer")})}))}}),[]),(0,i.jsx)(i.Fragment,{children:t})}}}]);